/* --------------------------------------------- *//* Author: http://codecanyon.net/user/CodingJack *//* --------------------------------------------- */function jackboxFrameReady(){jQuery.fn.jackBox("frameReady")}(function(e){function pr(){Bt=e(window);Kt=e("body");gn=e("body, html");kt=e("<div />").addClass("jackbox-modal");Qt=e("<div />").addClass("jackbox-holder");vt=e("<div />").addClass("jackbox-wrapper");Q=e("<div />").addClass("jackbox-preloader");V=e("<span />").addClass("jackbox-panel jackbox-panel-left");z=e("<span />").addClass("jackbox-panel jackbox-panel-right");var t=Dt.createDocumentFragment();t.appendChild(vt[0]);t.appendChild(Q[0]);kt[0].appendChild(t);t=Dt.createDocumentFragment();t.appendChild(V[0]);t.appendChild(z[0]);t.appendChild(Qt[0]);vt[0].appendChild(t);K=e("<div />").addClass("jackbox-container");if(!zt){var i=e("<span />").addClass("jackbox-pre-outside").appendTo(Q);e("<span />").addClass("jackbox-pre-inside").appendTo(i)}n*=2;X=0;t=Dt.createDocumentFragment();if(!!d){F=e(d).hide();t.appendChild(F[0])}t.appendChild(K[0]);if(!!v){g=e(v).hide();t.appendChild(g[0])}Qt[0].appendChild(t);T=-(Rn+r);Y=[];Ot=[];Ut=[];It=[];Gt.each(dr);if(kn){e.address.internalChange(yr);e.address.externalChange(gr)}qn=!0;if($t){kn?setTimeout($t,250):$t();$t=null}Gt=Ot=d=v=Y=null}function dr(){var t=e(this).attr("data-group").split(" ").join("").toLowerCase();if(!zt)It.indexOf(t)===-1&&vr(t);else{var n=It.length,r=!1;while(n--)if(It[n]===t){r=!0;break}r||vr(t)}}function vr(t){It[It.length]=t;Ot=[];e(".jackbox[data-group="+t+"]").each(mr);Ut[Ut.length]=Ot;Qn++}function mr(t){if(!isNaN(t)){At=e(this).data({id:t,cat:Qn});Ot[t]=At}else At=t;Pt=At.attr("href")||At.attr("data-href");if(!Pt)return;var n,r;Pt.charAt(0)!=="#"?n=Pt.toLowerCase().split(".").pop():n="inline";r=gi(Pt,n);if(r){At.data("type",r);At.attr("data-thumbnail")||(r==="vimeo"?li(At,Pt):r==="youtube"&&At.attr("data-thumbnail","http://img.youtube.com/vi/"+Pt.split("http://www.youtube.com/watch?v=")[1]+"/1.jpg"))}else if(mi(n))At.data("type","image");else switch(n){case"mp3":At.data("type","audio");break;case"swf":At.data("type","swf");break;case"inline":At.data("type","inline");break;default:At.data("type","iframe")}At.on("click.jackbox",Er);dn=At.attr("data-description");if(!dn)return;if(Y){var i=Y.indexOf(dn);if(i===-1){dn=e(dn);if(!dn.length)return;Y[Y.length]=dn}else dn=Y[i]}else{dn=e(dn);if(!dn.length)return}At.data("description",dn)}function gr(e){if(Yn){Yn=!1;var t=Dt.URL,n=t.split("?url=");if(n.length===2){window.location=n[0]+"#/"+n[1];return}}clearTimeout(en);br(e.value);if(Kn!==-1)if(Gn){Gn=!1;yr()}else en=setTimeout(yr,750);else vn&&ri()}function yr(e){if(typeof e=="object"){clearTimeout(en);br(e.value)}Kn!==-1?kr():vn&&ri()}function br(e){Sn&&!En&&!Hn&&Jt[Jn].removeClass("jb-thumb-active");if(e!=="/"){var t=e.split("/");if(t.length===3){Jn=parseInt(t[2],10)-1;isNaN(Jn)&&(Jn=0);Rt=t[1]}else if(isNaN(t[1])){Jn=0;Rt=t[1]}else{Jn=parseInt(t[1],10)-1;Rt="/"}}else{Rt="/";Jn=0}if(Rt!=="/"){var n=Qn;while(n--)if(It[n]===Rt){Kn=n;jt=Ut[Kn].length;yt=jt!==1;break}}else Kn=-1;Hn=!1}function wr(){clearTimeout(m);m=setTimeout(cr,100)}function Er(t){t.stopPropagation();t.preventDefault();var n=e(this).data();Sr(n.cat,n.id,!0)}function Sr(t,n,r){clearTimeout(en);r||Hr();if(kn)e.address.value(It[t]+"/"+(n+1));else{Sn&&!En&&!Hn&&Jt[Jn].removeClass("jb-thumb-active");Jn=n;Kn=t;jt=Ut[Kn].length;yt=jt!==1;kr()}}function xr(e){if(e){e.stopPropagation();if(wn)return!1}if(!vn)return;Sn&&!En&&Jt[Jn].removeClass("jb-thumb-active");Jn<Ut[Kn].length-1?Jn++:Jn=0;Hn=!0;Sr(Kn,Jn)}function Tr(e){if(e){e.stopPropagation();if(wn)return!1}if(!vn)return;Sn&&!En&&Jt[Jn].removeClass("jb-thumb-active");Jn>0?Jn--:Jn=Ut[Kn].length-1;Hn=!0;Sr(Kn,Jn)}function Nr(){var e=[kt[0],vt[0],Qt[0],K[0]],t=4;while(t--){e[t].addEventListener("touchstart",ui,!1);e[t].addEventListener("touchmove",ui,!1);e[t].addEventListener("touchend",ui,!1)}}function Cr(){var e=[kt[0],vt[0],Qt[0],K[0]],t=4;while(t--){e[t].removeEventListener("touchstart",ui,!1);e[t].removeEventListener("touchmove",ui,!1);e[t].removeEventListener("touchend",ui,!1)}}function kr(){Nn=Ut[Kn];At=Nn[Jn];if(!At)return;xt&&Nr();Pt=At.attr("href")||At.attr("data-href");if(vn){wn=!0;ei();_r()}else{vn=!0;xt||gn.stop();X=Bt.scrollTop();kt.appendTo(Kt).one("click.jackbox",ti);Cn||(cn=kt.parents().each(Lr));yn&&_t.on("keydown.jackbox_keyboard",jr);if(!mn){mn=!0;A=parseInt(Qt.css("padding-left"),10)+parseInt(Qt.css("padding-right"),10);L=parseInt(Qt.css("padding-top"),10)+parseInt(Qt.css("padding-bottom"),10);_=parseInt(V.css("width"),10)+14;Tt=L+n;S=Rn+(r<<1);bt=parseInt(Q.css("margin-top"),10);_n=bt-(S>>1);b=parseInt(Qt.css("padding-left"),10);w=parseInt(Qt.css("padding-top"),10);W=e(".jackbox-fullscreen");W.length||(W=null);y=!xt&&hn!=="safari"&&("webkitRequestFullScreen"in kt[0]||"mozFullScreenEnabled"in Dt)}it=!Xn&&bn&&yt?0:T;on=Bt.width();un=Bt.height();Qt.css({width:on,height:un,marginLeft:-(on>>1)-b,marginTop:-(un>>1)-w});Jacked.fadeIn(kt[0],{callback:Or});Vt=setTimeout(_r,250);vt.on("click.jackbox",bi)}}function Lr(){e(this).addClass("jackbox-overflow")}function Ar(){e(this).removeClass("jackbox-overflow")}function Or(){Cn||Bt[0].scrollTo(0,0)}function Mr(e){return e==="true"||e===!0}function _r(){if(Sn){Jt[Jn].addClass("jb-thumb-active");En?En=!1:fr(!1,!0)}var t=Mr(At.attr("data-autoplay")?At.attr("data-autoplay"):Fn),n=At.data("description")||null,r=At.attr("data-title")||"",i;Et=At.attr("data-scaleUp")==="true";ut=n&&typeof n!="string"?n.html():!1;ln=At.data("type");t=Mr(t);if(r){et=r;$=escape(et)}else{$=!1;if(typeof Lt!="undefined"){Lt.data("links")&&Lt.data("links").off(".jackbox");Lt.empty()}}if(xt){tt=ln==="image";ln!=="inline"&&ln!=="iframe"&&Dt.addEventListener("touchmove",ui,!1)}ln!=="image"&&Yr();on>568?Q.css("margin-top",it===0?_n:bt):Q.css("margin-top",bt);vt.show();Q.addClass("jackbox-spin-preloader");switch(ln){case"image":sn=!0;nn=e("<img />").addClass("jackbox-content").one("load.jackbox",tr).prependTo(K);if(xt){nn[0].addEventListener("touchstart",ui,!1);nn[0].addEventListener("touchmove",ui,!1);nn[0].addEventListener("touchend",ui,!1)}nn.attr("src",Pt);break;case"youtube":er(p.split("{url}").join(Pt.split("watch?v=")[1]).split("{autoplay}").join(t?1:0));break;case"vimeo":er(h.split("{url}").join(Pt.substring(Pt.lastIndexOf("/"))).split("{autoplay}").join(t));break;case"local":var s=Dr(),o=At.attr("data-firefoxUsesFlash")==="true"?"true":"false",u=At.attr("data-flashHasPriority")?At.attr("data-flashHasPriority"):Un.toString();i=u==="false"&&y&&hn!=="firefox";At.attr("data-poster")?s+=At.attr("data-poster"):s="false";er(l+"?video="+Pt+"&autoplay="+t+"&flashing="+u+"&width="+Yt+"&height="+rn+"&poster="+s+"&firefox="+o,!0);break;case"audio":Dr();er(c+"?audio="+Pt+"&title="+(At.attr("data-audiotitle")?At.attr("data-audiotitle"):$)+"&autoplay="+t);break;case"swf":Dr();er(a+"?swf="+Pt+"&width="+(Ht.toString()+"&height="+qt.toString()));break;case"inline":var f=e(Pt),d=f.length?f.html():"";nn=e("<div />").addClass("jackbox-content jackbox-html").html(d).prependTo(K);nn.css("width",Ht).find("a").on("click",yi);At.attr("data-height",nn.outerHeight(!0));Yr();tr();break;default:er(Pt,!1,!0)}if(!y)return;i?W.hide():W.show()}function Dr(){if(Pt.search("http")!==-1)return;var e=Dt.URL.split("#")[0];e[e.length-1]!=="/"&&(e=e.substring(0,e.lastIndexOf("/")+1));Pt=e+Pt;return e}function Pr(){if(Sn){var e=Jt.length;while(e--)Jt[e].on("click.jackbox",Vr)}V.on("click.jackbox",Tr);z.on("click.jackbox",xr);yn&&_t.on("keydown.jackbox",Br);xt&&tt&&nn.cjSwipe("touchSwipe",oi)}function Hr(){if(Sn){var e=Jt.length;while(e--)Jt[e].off("click.jackbox")}V.off(".jackbox");z.off(".jackbox");yn&&_t.off("keydown.jackbox");xt&&tt&&nn.cjSwipe("unbindSwipe")}function Br(e){switch(e.keyCode){case 39:xr();break;case 37:Tr();break;case 40:ur();break;case 38:ur()}}function jr(e){e.keyCode===27&&ti(e)}function Fr(){M.css("visibility","hidden")}function Ir(){var t=Dt.createDocumentFragment(),n=Rn>>1;On=e("<div />").addClass("jackbox-thumb-holder").css("height",Rn).appendTo(kt);H=e("<div />").addClass("jackbox-thumb-panel").css("height",Rn);j=e("<div />").addClass("jackbox-thumb-right");J=e("<div />").addClass("jackbox-thumb-left");t.appendChild(H[0]);t.appendChild(j[0]);t.appendChild(J[0]);H[0].cjThumbs=!0;On[0].appendChild(t);P=e("<div />").addClass("jackbox-thumb-strip").appendTo(H);J.css("top",n);j.css("top",n)}function qr(){var t=Ut[Kn],n=[],r=jt,i,s,o,u,a,l,c,h,p;jn=!0;while(r--){o=t[r];if(o.attr("data-thumbnail")){n[r]=!1;continue}a=o.children("img");if(a.length){o.attr("data-thumbnail",a.attr("src"));n[r]=a}else if(o.data("type")==="image"){o.attr("data-thumbnail",o.attr("href")||o.attr("data-href"));n[r]=!1}else{o.attr("data-thumbnail",f);n[r]=!1}}Jt=[];On||Ir();u=Dt.createDocumentFragment();for(r=0;r<jt;r++){s=Jt[r]=e("<div />").data("id",r).addClass("jackbox-thumb").css({width:In,height:Rn,left:pn*r}).on("click.jackbox",Vr);if(lt){i=Nn[r].attr("data-thumbTooltip")||Nn[r].attr("data-title");i&&s.data("theTitle",i).on("mouseenter.jackbox",or).on("mouseleave.jackbox",Ur)}u.appendChild(s[0]);l=e("<img />").addClass("jb-thumb").one("load.jackbox",Xr).appendTo(s);s.data("theThumb",l);if(n[r]){c=n[r].attr("width")||n[r].width();h=n[r].attr("height")||n[r].height()}else{c=In;h=Rn}if(c>In&&h>Rn){p=c>h?In/c:Rn/h;c*=p;h*=p;if(h<Rn){var d=(Rn-h)/Rn;c+=c*d;h+=h*d}if(c<In){var v=(In-c)/In;c+=c*v;h+=h*v}c!==(c|0)&&(c=c+1|0);h!==(h|0)&&(h=h+1|0)}l.attr({width:c,height:h,src:t[r].attr("data-thumbnail")})}P[0].appendChild(u);O=Jt.length;B=pn*r;Sn=!0;dt=0;On.on("click.jackbox",bi).show();ar();if(!st)return;if(!Xn){R.hide();U.show();On.css("bottom",0)}else{U.hide();R.show();On.css("bottom",it)}st.on("click.jackbox",ur)}function Rr(){H.data("offLeft",H.offset().left)}function Ur(){rt.css({opacity:0,visibility:"hidden"})}function zr(e){typeof e=="object"&&e.stopPropagation();if(dt<jt-G){dt++;lr(!1,!0)}}function Wr(e){typeof e=="object"&&e.stopPropagation();if(dt>0){dt--;lr(!1,!0)}}function Xr(t){t.stopPropagation();var n=e(this).parent();n.addClass("jb-thumb-fadein");xt||n.addClass("jb-thumb-hover");n.data("id")===Jn&&n.addClass("jb-thumb-active")}function Vr(t){t.stopPropagation();if(wn)return!1;var n=e(this),r=n.data("id");if(r===Jn)return;Sn&&Jt[Jn].removeClass("jb-thumb-active");Jn=r;En=!0;Sr(Kn,Jn)}function $r(){Mn=!0;y&&W.on("click.jackbox",Jr);ot&&ot.one("click.jackbox",ti);Mt&&Mt.on("click.jackbox",sr);if(!yt)return;gt&&gt.on("click.jackbox",xr);wt&&wt.on("click.jackbox",Tr);lt&&H&&H.on("mouseenter.jackbox",Rr);if(xt&&M){M[0].addEventListener("touchstart",yi,!1);M[0].addEventListener("touchmove",yi,!1);M[0].addEventListener("touchend",yi,!1)}}function Jr(){if(!N){Bt.off(".jackbox");N=!0;if(Dt.mozFullScreenEnabled){Dt.addEventListener("mozfullscreenchange",Kr,!1);kt[0].mozRequestFullScreen()}else if(kt[0].webkitRequestFullScreen){Dt.addEventListener("webkitfullscreenchange",Kr,!1);kt[0].webkitRequestFullScreen()}}else Gr()}function Kr(){Dt.webkitIsFullScreen||Dt.mozFullScreen?cr():Gr(!0)}function Qr(e){Dt.removeEventListener(e.type,Qr,!1);cr();Bt.on("resize.jackbox",wr)}function Gr(e){N=!1;if(Dt.mozFullScreenEnabled){Dt.removeEventListener("mozfullscreenchange",Kr,!1);if(e){cr();Bt.on("resize.jackbox",wr)}else{Dt.addEventListener("mozfullscreenchange",Qr,!1);Dt.mozCancelFullScreen()}}else if(kt[0].webkitRequestFullScreen){Dt.removeEventListener("webkitfullscreenchange",Kr,!1);if(e){cr();Bt.on("resize.jackbox",wr)}else{Dt.addEventListener("webkitfullscreenchange",Qr,!1);Dt.webkitCancelFullScreen()}}}function Yr(){sn=!1;Yt=At.attr("data-width")?parseInt(At.attr("data-width"),10):Vn;rn=At.attr("data-height")?parseInt(At.attr("data-height"),10):$n;Et=At.attr("data-scaleUp")==="true";Zr()}function Zr(){an=Yt+A+_+n;fn=rn+Tt;cr("true")}function ei(){clearTimeout(Vt);Jacked.stopTween(Qt[0]);Bt.off(".jackbox");xt&&Dt.removeEventListener("touchmove",ui,!1);if(nn){Jacked.stopTween(nn[0]);nn.remove();nn=null}if(F){Jacked.stopTween(F[0],!0);F.hide()}if(g){Jacked.stopTween(g[0],!0);g.hide()}if(!Mt)return;Mt.removeClass("jb-info-inactive");Jacked.stopTween(I[0]);I.empty().hide()}function ti(t){t.stopPropagation();kn?e.address.value(""):ri()}function ni(){Jacked.stopTween(On[0]);On.off(".jackbox").hide();var e;while(Jt.length){e=Jt[0];Jacked.stopTween(e[0]);e.remove();Jt.shift()}J.off(".jackbox").hide();j.off(".jackbox").hide();xt&&H.cjSwipe("unbindSwipe");Jacked.stopTween(P[0]);P.empty().css("margin-left",0);if(st){st.off(".jackbox");if(st){R.hide();U.show()}}Sn=Jt=null}function ri(){clearTimeout(en);ei();kt.unbind(".jackbox");yn&&_t.off("keydown.jackbox_keyboard");if(yt){yn&&_t.off("keydown.jackbox");wt&&wt.off(".jackbox");gt&&gt.off(".jackbox");lt&&H&&H.off(".jackbox");Jacked.stopTween(z[0],!0);Jacked.stopTween(V[0],!0);var e={opacity:0,visibility:"hidden"};z.off(".jackbox").css(e);V.off(".jackbox").css(e)}else{at&&at.show();st&&st.show()}vt.hide().off(".jackbox");Q.removeClass("jackbox-spin-preloader");if(typeof Lt!="undefined"){Lt.data("links")&&Lt.data("links").off(".jackbox");Lt.empty()}y&&W.off(".jackbox");ot&&ot.unbind(".jackbox");Mt&&Mt.off(".jackbox");Sn&&ni();Cn||cn.each(Ar);Jacked.fadeOut(kt[0],{duration:1e3,callback:si});Qt.css({marginLeft:Dn,marginTop:xn});if(xt){Cr();Dt.removeEventListener("touchmove",ui,!1)}setTimeout(ii,10);if(M){M.css("visibility","hidden");if(xt){M[0].removeEventListener("touchstart",yi,!1);M[0].removeEventListener("touchmove",yi,!1);M[0].removeEventListener("touchend",yi,!1)}}At=vn=N=En=Tn=Mn=Hn=jn=nt=null}function ii(){X!==0&&(!Cn&&!xt?gn.animate({scrollTop:X},{duration:300,queue:!1}):gn.scrollTop(X))}function si(){kt.detach()}function oi(e){e?Tr():xr()}function ui(e){e.preventDefault()}function ai(){ft=!0;Ct=e(".jb-total");Mt=e(".jackbox-info");ht=e(".jb-divider");mt=e(".jb-current");ot=e(".jackbox-close");Nt=e(".jackbox-title-text");Lt=e(".jackbox-title-txt");at=e(".jackbox-controls");wt=e(".jackbox-arrow-left");gt=e(".jackbox-arrow-right");st=e(".jackbox-button-thumbs");R=e(".jackbox-show-thumbs");U=e(".jackbox-hide-thumbs");Lt.length||(Lt=null);Nt.length||(Nt=null);wt.length||(wt=null);ht.length||(ht=null);gt.length||(gt=null);at.length||(at=null);ot.length||(ot=null);if(!mt.length||!Ct.length)mt=null;if(y){e(".jackbox-ns").hide();W.length||(W=y=null)}else W&&W.hide();if(bn)st.length&&R.length&&U.length?R.hide():st=R=U=null;else{st.hide();st=R=U=null}if(Mt.length){M=e("<div />").addClass("jackbox-info-text").appendTo(K).css("visibility","hidden");I=e("<div />").addClass("jackbox-description-text").appendTo(M)}else Mt=null;if(!lt)return;rt=e("<span />").addClass("jackbox-thumb-tip").css("bottom",Rn);E=e("<span />").addClass("jackbox-thumb-tip-text").text("render me").appendTo(rt);rt.appendTo(kt);k=(parseInt(rt.css("padding-left"),10)<<1)-(r<<1)}function fi(t,n){if(vn||n.toLowerCase()!=="success"||!t)return;var r=t.length,i=document.URL;i=i.substring(0,i.lastIndexOf("/"));while(r--)e("<img />").attr("src",s+"/"+t[r].split("../").join(""))}function li(t,n){e.getJSON("http://vimeo.com/api/v2/video/"+n.split("http://vimeo.com/")[1]+".json?callback=?",{format:"json"},function(e){t.attr("data-thumbnail",e[0].thumbnail_small)})}function ci(){var t=e(this),n=t.next("img"),r,i=n.attr("src");if(!n.length)return;r=e("<img />").attr({width:n.attr("width"),height:n.attr("height")}).data("parent",t).one("load.jackbox",hi).insertAfter(n);n.remove();r.attr("src",i)}function hi(){var t=e(this),n=t.data("parent"),r=parseInt(n.css("width"),10)||n.width(),i=parseInt(n.css("height"),10)||n.height(),s=e("<canvas />").addClass("jackbox-canvas-blur").attr({width:r,height:i}).insertBefore(n),o=Date.now(),u=o+1,a=o+2;t.attr("id",u);s.attr("id",a);StackBlurImage(u,a,29)}function pi(){var t=e(this);t.parent().data({tip:t,tipWidth:t.width()-27,tipHeight:t.height()+17}).on("mouseenter.jackbox",di).on("mouseleave.jackbox",vi)}function di(){var t=e(this),n=t.offset(),r=t.data();r.tipX=n.left,r.tipY=n.top,r.tip.css({opacity:1,visibility:"visible"});t.on("mousemove.jackbox",hr)}function vi(){var t=e(this).off("mousemove.jackbox");zt?t.data("tip").css("opacity",0):t.data("tip").css({opacity:0,visibility:"hidden"})}function mi(e){return e==="jpg"||e==="png"||e==="jpeg"||e==="gif"}function gi(e,t){return e.search("youtube.com")!==-1?"youtube":e.search("vimeo.com")!==-1?"vimeo":t==="mp4"?"local":!1}function yi(e){e.stopImmediatePropagation()}function bi(t){if(!e(t.target).is("a")){t.stopPropagation();t.preventDefault()}}var t={useThumbs:!0,deepLinking:!0,autoPlayVideo:!1,flashVideoFirst:!1,defaultVideoWidth:960,defaultVideoHeight:540,thumbnailWidth:75,thumbnailHeight:50,useThumbTooltips:!0,preloadGraphics:!0,showInfoByDefault:!1,thumbsStartHidden:!1,showPageScrollbar:!1,useKeyboardControls:!0,fullscreenScalesContent:!0,defaultShareImage:"jackbox/img/default_share.jpg"},n=10,r=2,i=160,s="jackbox",o="../../images/lightbox/graphics/",u=s+"/php/graphics.php",a="jackbox/modules/jackbox_swf.html",f="media/mod_zentools/images/lightbox/graphics/thumb/default.jpg",l="jackbox/modules/jackbox_video.html",c="jackbox/modules/jackbox_audio.html",h="http://player.vimeo.com/video{url}?title=0&byline=0&portrait=0&autoplay={autoplay}&color=FFFFFF&wmode=transparent",p="http://www.youtube.com/embed/{url}?autoplay={autoplay}&autohide=1&hd=1&iv_load_policy=3&showinfo=0&showsearch=0&wmode=transparent",d='<div class="jackbox-top clearfix"><div class="jackbox-top-icons"><span class="jackbox-fullscreen"><span class="jackbox-button jackbox-fs"></span><span class="jackbox-button jackbox-ns"></span></span><span class="jackbox-button jackbox-button-margin jackbox-close"></span></div><div />',v='<div class="jackbox-bottom clearfix"><div class="jackbox-controls"><span class="jackbox-button jackbox-arrow-left"></span><span class="jackbox-button jackbox-arrow-right"></span></div><div class="jackbox-title-text"><span class="jb-current"></span><span class="jb-divider">/</span><span class="jb-total"></span><span class="jackbox-title-txt"></span></div><div class="jackbox-bottom-icons"><span class="jackbox-button jackbox-info"></span><span class="jackbox-button-margin jackbox-button-thumbs"><span class="jackbox-button jackbox-hide-thumbs"></span><span class="jackbox-button jackbox-show-thumbs"></span></span></div></div>',m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt,Zt,en,tn,nn,rn,sn,on,un,an,fn,ln,cn,hn,pn,dn,vn,mn,gn,yn,bn,wn,En,Sn,xn,Tn,Nn,Cn,kn,Ln,An,On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn,In,qn,Rn,Un,zn,Wn,Xn,Vn,$n,Jn=1,Kn=-1,Qn=0,Gn=!0,Yn=!0,Zn={init:function(n,i){if(!Pn){if(typeof Jacked=="undefined")return;i&&e.extend(t,i);bn=t.useThumbs;kn=t.deepLinking;lt=t.useThumbTooltips;Fn=t.autoPlayVideo;yn=t.useKeyboardControls;Cn=t.showPageScrollbar;In=t.thumbnailWidth;tn=t.fullscreenScalesContent;Rn=t.thumbnailHeight;Un=t.flashVideoFirst;Wn=t.showInfoByDefault;Xn=t.thumbsStartHidden;zn=t.defaultShareImage;Vn=t.defaultVideoWidth;$n=t.defaultVideoHeight;Dt=document;_t=e(document);Pn=!0;pn=In+r;Zt=Dt.URL.search("file:///")!==-1;Jacked.setEngines({ios:!0,safari:!0,opera:!0,firefox:!0});Gt=n;t=null;zt=Jacked.getIE();xt=Jacked.getMobile();hn=Jacked.getBrowser();Ft=hn==="ie";xt&&(Cn=!1);if(typeof e.address!="undefined"&&kn)if(!Ft)e.address.init(pr);else{pr();e.address.update()}else{kn=!1;pr()}typeof StackBlurImage!="undefined"&&!Zt&&!zt&&e(".jackbox-hover-blur").each(ci);e(".jackbox-tooltip").each(pi)}},frameReady:function(){vn&&tr()},newItem:function(e,t){var n=It.length,r=-1,i,s,o;if(t&&typeof t=="object"){var u,a,f;for(u in t)if(u!=="trigger"){a="data-"+u;f=t[u];e.attr(a,f);u==="group"&&(s=f)}}else t=null;s||(s=e.attr("data-group"));if(!s)return;o=s.split(" ").join("").toLowerCase();while(n--)if(It[n]===o){r=n;break}if(r>-1){i=Ut[r];for(var l in i)if(i[l[0]][0]===e[0])return;n=i.length;i[n]=e}else{r=It.length;n=Ut.length;It[r]=o;Qn++;Ut[n]=[e];n=0}mr(e);e.data({id:n,cat:r});t&&t.trigger&&e.trigger("click")}},er=function(){var t={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen"};return function(n,r,i){t.width=Ht;t.height=qt;t.scrolling=i?"auto":"no";nn=e("<iframe />").attr(t).addClass("jackbox-content").prependTo(K);r||nn.one("load.jackbox",tr);nn.attr("src",n)}}(),tr=function(){var e={};return function(t){t&&t.stopPropagation();if(sn){Yt=this.width||nn.width();rn=this.height||nn.height();Zr()}e.width=Ht;e.height=qt;nn.css(e);nr(!0);C&&C();Bt.on("resize.jackbox",wr)}}(),nr=function(){var e={},t={},n={};return function(r){var i;if(r){Ht<260&&(Wt+=260-Ht);i=Math.max(Ht,260);if(i===nt&&qt===Z){rr();return}e.callback=rr;e.duration=nt?Math.abs(i-nt)>50||Math.abs(qt-Z)>50?600:300:600}else{i=Ht;n.width=i;e.duration=300;delete e.callback;F&&Jacked.tween(F[0],n,e);g&&Jacked.tween(g[0],n,e);n.height=qt;Jacked.stopTween(nn[0],!0);Jacked.tween(nn[0],n,e)}t.marginLeft=-((Wt>>1)+.5|0);t.marginTop=-((Xt>>1)+.5|0);t.height=qt;t.width=i;nt||(t.opacity=1);Jacked.tween(Qt[0],t,e);nt=i;Z=qt}}(),rr=function(){var e={},t={opacity:1,visibility:"visible"};return function(){ir();Q.removeClass("jackbox-spin-preloader");var n=Math.max(Ht,260);e.duration=600;if(sn&&!zt)Jacked.fadeIn(nn[0],e);else{nn.show();(ln==="audio"||ln==="local")&&nn[0].contentWindow.cjInit()}e.duration=300;if(!zt){if(F){F.css("width",n);Jacked.fadeIn(F[0],e)}if(g){g.css("width",n);Jacked.fadeIn(g[0],e)}}else{F&&F.css("width",n).show();g&&g.css("width",n).show()}if(Mt&&ut){Mt.show();I.html(ut).show();q=-I.outerHeight();M.css("height",-q<qt?-q:qt);if(!Wn){pt=!1;I.css("margin-top",q)}else{pt=!0;Mt.addClass("jb-info-inactive");I.css({visibility:"visible",marginTop:0})}}else if(Mt){Mt.hide();I.hide()}wn=!1;if(!Mn&&yt){V.css(t);z.css(t)}!jn&&bn&&yt&&qr();Mn||$r();if(xt){nn[0].removeEventListener("touchstart",ui,!1);nn[0].removeEventListener("touchmove",ui,!1);nn[0].removeEventListener("touchend",ui,!1);Cr()}yt&&Pr()}}(),ir=function(){var e={type:"text/html",frameborder:0,mozallowfullscreen:"mozallowfullscreen",webkitallowfullscreen:"webkitallowfullscreen",allowfullscreen:"allowfullscreen",scrolling:"no"};return function(){ft||ai();if(!yt){at&&at.hide();st&&st.hide()}if(Nt){$==="false"&&($=!1);var e=Lt&&$;if(mt&&yt){mt.text(Jn+1).show();Ct.html(jt).show();ht&&ht.show()}else{Ct&&Ct.hide();mt&&mt.hide();ht&&ht.hide()}if(e){Lt.html("&nbsp;-&nbsp;"+et);var t=Lt.find("a");if(t.length){t.on("click.jackbox",yi);Lt.data("links",t)}}}if(!Ln||Zt)return;var n,r,i=Dt.URL.split("#")[0],s=i.length-1;if(i.search("/")!==-1)if(i.charAt(s)!=="/"){kn?r=i+"#/"+Rt+"/"+(Jn+1):r=i;i=i.substring(0,i.lastIndexOf("/"))}else{i=i.substring(0,s);kn?r=i+"/#/"+Rt+"/"+(Jn+1):r=i}if(sn)n=At.attr("href")||At.attr("data-href");else{var o=At.children("img");n=o.length?o.attr("src"):zn}n.search("http")===-1&&(n=n.charAt(0)!=="/"?i+"/"+n:i+n)}}(),sr=function(){var e={},t={duration:300};return function(n){n&&n.stopPropagation();if(!pt){Mt.addClass("jb-info-inactive");M.css("visibility","visible");e.marginTop=0;delete t.callback}else{e.marginTop=q;t.callback=Fr;Mt.removeClass("jb-info-inactive")}Jacked.tween(I[0],e,t);pt=!pt}}(),or=function(){var t={opacity:1,visibility:"visible"};return function(){if(xt){clearTimeout(St);St=setTimeout(Ur,2e3)}var n=e(this),r,i,s,o;E.text(n.data("theTitle"));r=parseInt(E.css("width"),10);o=H.data("offLeft");i=n.offset().left;s=o+H.width()-r-k;t.width=r;t.left=i<o?o:i>s?s:i;rt.css(t)}}(),ur=function(){var e={},t={duration:300};return function(n){n&&n.stopPropagation();if(it===0){it=T;if(st){U.hide();R.show()}}else{it=0;if(st){R.hide();U.show()}}e.bottom=it;Jacked.tween(On[0],e,t);if(on<569)return;cr("true");nr()}}(),ar=function(){var e={};return function(t){var n=on-i;if(B<n){G=O;Bn=!1}else{G=n/pn|0;Bn=!0}x=pn*G-r;D=G-1;e.marginLeft=-(x>>1)-r;e.width=x;H.css(e);P.css("width",B);fr(t)}}(),fr=function(){var e={},t={duration:300};return function(n,r){if(n){dt=Jn;Jn!==0&&Jn+G>jt&&(dt=jt-G);Jacked.stopTween(P[0]);P.css("left",dt*-pn)}else{if(Jn===0)dt=0;else if(Jn>dt+D)while(Jn>dt+D)dt++;if(r){e.left=dt*-pn;Jacked.tween(P[0],e,t)}else{Jacked.stopTween(P[0]);P.css("left",dt*-pn)}}lr(n,!1)}}(),lr=function(){var e={},t={duration:300};return function(n,r){J.off(".jackbox");j.off(".jackbox");if(!Bn){J.hide();j.hide()}else{xt&&H.cjSwipe("unbindSwipe");if(dt<jt-G){j.on("click.jackbox",zr).show();xt&&H.cjSwipe("touchSwipeLeft",zr,!0)}else j.hide();if(dt>0){J.on("click.jackbox",Wr).show();xt&&H.cjSwipe("touchSwipeRight",Wr,!0)}else J.hide();if(r){e.left=dt*-pn;Jacked.tween(P[0],e,t)}else if(n||!Tn){var i=H.offset().left;J.css("left",i);j.css("left",i+x);Tn=!0}}}}(),cr=function(){var e={opacity:1},t={};return function(r){on=Bt.width();un=Math.max(Bt.height(),226);var i=on>568&&it===0?S:0;ln!=="audio"&&ln!=="inline"?ct=N?Et||tn:Et:ct=!1;if(an<on&&fn+i<un&&!ct){Ht=Yt;qt=rn}else{Ht=on/an;qt=un/fn;var s=Ht>qt?qt:Ht;Ht=Yt*s;qt=rn*s;if(on>un){if(qt+Tt+i>un){qt=un-L-n-i;Ht=Yt*(qt/rn)}}else if(Ht>qt){if(Ht+an>on){Ht=on-n;qt=rn*(Ht/Yt)}}else if(qt+Tt+i>un){qt=un-L-n-i;Ht=Yt*(qt/rn)}Ht!==(Ht|0)&&(Ht=Ht+1|0);qt!==(qt|0)&&(qt=qt+1|0)}if(ln==="inline"){var o=on-A-_-n,u=un-L-n-i;Ht=Yt>o?o:Yt;qt=rn<u?rn:qt}Wt=Ht+A;Xt=qt+L+i;if(r==="true")return;Jacked.stopTween(Qt[0],!1,!0);nn&&Jacked.stopTween(nn[0],!0,!0);Ht<260&&(Wt+=260-Ht);var a=Math.max(260,Ht);e.width=a;e.height=qt;t.marginLeft=-(Wt*.5+.5|0);t.marginTop=-(Xt*.5+.5|0);t.width=a;t.height=qt;Qt.css(t);nn.css(e);if(g){Jacked.stopTween(g[0]);g.css("width",a)}if(F){Jacked.stopTween(F[0]);F.css("width",a)}if(Mt&&ut){q=-I.outerHeight();M.css("height",-q<qt?-q:qt);if(!pt){Jacked.stopTween(I[0],!1,!0);I.css("margin-top",q)}}Sn&&ar(!0)}}(),hr=function(){var t={};return function(n){var r=e(this).data();t.left=n.pageX-r.tipX-r.tipWidth;t.top=n.pageY-r.tipY-r.tipHeight;r.tip.css(t)}}();e.fn.jackBox=function(e,t){Zn.hasOwnProperty(e)&&Zn[e](this,t)};e.jackBox={available:function(e){if(!e)return;qn?kn?setTimeout(e,250):e():$t=e},itemLoaded:function(e){C=e}}})(jQuery);